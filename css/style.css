/* ==================== 0. æ ¸å¿ƒå˜é‡ä¸é‡ç½® ==================== */
:root {
    --primary: #2c2520;      /* æ·±å¢¨è‰² - ä¸»æ–‡å­—/è¾¹æ¡† */
    --accent: #d4af37;       /* éé‡‘è‰² - å¼ºè°ƒè‰² */
    --accent-glow: rgba(212, 175, 55, 0.6);
    --bg-paper: #f4f1ea;     /* å®£çº¸ç™½ - å…¨å±€èƒŒæ™¯ */
    --text-main: #2c3e50;
    
    --glass: rgba(255, 255, 255, 0.6);
    --glass-border: rgba(255, 255, 255, 0.9);
    --card-shadow: 0 10px 30px -10px rgba(44, 37, 32, 0.15);
    
    --font-title: 'ZCOOL XiaoWei', serif;  
    --font-body: 'Noto Sans SC', sans-serif;
}

* { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
/* ä»…åœ¨éè§¦æ‘¸è®¾å¤‡éšè—å…‰æ ‡ */
@media (hover: hover) { * { cursor: none !important; } }

body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: var(--font-body);
    background-color: var(--bg-paper);
    color: var(--text-main);
    overflow: hidden; 
}


/* å®£çº¸çº¹ç†å±‚ */
.paper-texture {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.08'/%3E%3C/svg%3E");
    pointer-events: none; z-index: -2; opacity: 0.6; mix-blend-mode: multiply;
}

/* èƒŒæ™¯åŠ¨æ€ç²’å­ç”»å¸ƒ */
#particle-canvas {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    z-index: -1; pointer-events: none; opacity: 0.5;
}

/* ==================== 1. äº¤äº’å…‰æ ‡ç³»ç»Ÿ (ä»…PC) ==================== */
#cursor-dot, #cursor-outline {
    position: fixed; top: 0; left: 0;
    border-radius: 50%; pointer-events: none; z-index: 9999;
    transform: translate(-50%, -50%);
    transition: opacity 0.3s ease-in-out, transform 0.1s;
}

#cursor-dot { width: 8px; height: 8px; background-color: var(--primary); }
#cursor-outline {
    width: 40px; height: 40px;
    border: 1px solid var(--accent);
    background: rgba(212, 175, 55, 0.05);
    transition: width 0.2s, height 0.2s, background-color 0.2s, transform 0.15s ease-out;
}

body.hovering #cursor-outline {
    width: 60px; height: 60px;
    background: rgba(212, 175, 55, 0.15);
    border-color: var(--primary);
    backdrop-filter: blur(2px);
}
body.hovering #cursor-dot { opacity: 0; }

/* æ»šåŠ¨æ¡ */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.3); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

/* ==================== 2. å‰ç½®å¼€åœºåŠ¨ç”» ==================== */
#intro-gate {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: #1a1a1a; z-index: 10000;
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    transition: opacity 0.8s ease-in-out, visibility 0.8s;
}
.loader-wrapper { position: relative; width: 100px; height: 100px; }
.loader-ring {
    position: absolute; width: 100%; height: 100%; border-radius: 50%;
    border: 2px solid transparent; border-top-color: var(--accent);
    animation: spin 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
}
.loader-ring:nth-child(2) { width: 70%; height: 70%; top: 15%; left: 15%; animation-duration: 2s; border-top-color: #fff; animation-direction: reverse; }
.loader-text {
    margin-top: 30px; font-size: 26px; color: var(--accent); letter-spacing: 8px;
    opacity: 0; animation: fadeInUp 1s ease forwards 0.5s; font-weight: bold;
    text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
}
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

/* ==================== 3. å¯¼èˆªæ  ==================== */
.navbar {
    height: 75px; width: 100%;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(15px) saturate(180%);
    border-bottom: 1px solid rgba(255,255,255,0.3);
    display: flex; align-items: center; padding: 0 40px;
    position: absolute; top: 0; z-index: 100;
    box-shadow: 0 10px 30px rgba(0,0,0,0.03);
}
.logo {
    font-size: 24px; color: var(--primary); font-weight: bold; margin-right: 60px;
    display: flex; align-items: center; gap: 12px;
}
.logo-img {
    height: 50px; width: auto;
    filter: drop-shadow(0 0 5px var(--accent-glow)); 
    animation: breathe 3s infinite ease-in-out;
}
@keyframes breathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

.nav-items { display: flex; gap: 15px; }
.nav-btn {
    background: transparent; border: none; padding: 12px 24px;
    font-family: inherit; font-size: 15px; color: #666; 
    border-radius: 12px; transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
    position: relative; overflow: hidden; letter-spacing: 1px;
}
.nav-btn:hover { color: var(--primary); transform: translateY(-2px); }
.nav-btn.active { color: #fff; background: var(--primary); box-shadow: 0 8px 20px -5px rgba(44, 37, 32, 0.4); }
.nav-btn.active i { color: var(--accent); }

/* ==================== 4. ä¸»å†…å®¹æ¡†æ¶ & æœç´¢æ¡† ==================== */
.main-container { padding-top: 75px; height: 100%; width: 100%; position: relative; }
.view-section {
    display: none; height: 100%; width: 100%; overflow-y: auto; overflow-x: hidden;
    padding: 40px; scroll-behavior: smooth;
}
.view-section.active { display: block; animation: fadeSlideUp 0.7s cubic-bezier(0.2, 0.8, 0.2, 1); }
@keyframes fadeSlideUp {
    from { opacity: 0; transform: translateY(40px) scale(0.96); filter: blur(5px); }
    to { opacity: 1; transform: translateY(0) scale(1); filter: blur(0); }
}

.search-container {
    max-width: 1200px; margin: 0 auto 40px auto; display: flex; gap: 20px;
    position: sticky; top: 10px; z-index: 50; padding: 10px 0;
}
.glass-input, .glass-select {
    padding: 18px 30px; border: 1px solid var(--glass-border);
    background: rgba(255,255,255,0.7); backdrop-filter: blur(10px);
    border-radius: 16px; font-size: 16px; color: var(--primary);
    box-shadow: 0 10px 30px rgba(0,0,0,0.05); transition: 0.4s;
}
.glass-input { flex: 1; }
.glass-input:focus, .glass-select:focus { background: #fff; border-color: var(--accent); box-shadow: 0 15px 40px rgba(212, 175, 55, 0.15); }


/* ==================== 5. é¦–é¡µ (Home) ==================== */
.home-dashboard {
    max-width: 1200px; margin: 0 auto;
    display: grid; grid-template-columns: 2fr 1fr; gap: 30px;
    padding-bottom: 50px;
}
.hero-banner {
    grid-column: 1 / -1;
    position: relative; overflow: hidden;
    padding: 50px; border-radius: 24px; color: #fff;
    box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    display: flex; justify-content: space-between; align-items: center;
    background: #2c2520; transition: transform 0.3s;
}
.hero-video { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; opacity: 0.8; }
.hero-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to right, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.2) 100%); z-index: 1; }
.hero-content, .hero-icon { position: relative; z-index: 2; }
.panel-box {
    background: rgba(255,255,255,0.8); backdrop-filter: blur(10px);
    border-radius: 20px; padding: 30px;
    box-shadow: var(--card-shadow); border: 1px solid rgba(255,255,255,0.6);
}
.report-stats { display: flex; gap: 20px; }
.stat-box { flex: 1; background: #f9f9f9; padding: 15px; border-radius: 12px; text-align: center; }
.stat-num { font-size: 32px; font-weight: bold; color: var(--primary); }
.guide-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
.guide-card {
    background: #fff; padding: 20px; border-radius: 16px; border: 1px solid #f0f0f0;
    display: flex; align-items: center; gap: 20px; transition: 0.3s;
}
.guide-card:hover { transform: translateX(5px); box-shadow: 0 10px 25px rgba(0,0,0,0.05); }


/* ==================== 6. å›¾é‰´ (Dex) ==================== */
.dex-layout-container {
    display: flex; gap: 30px;
    height: calc(100vh - 200px);
    max-width: 1400px; margin: 0 auto;
    position: relative;
}
.dex-sidebar {
    width: 320px; flex-shrink: 0;
    background: rgba(255, 255, 255, 0.6); backdrop-filter: blur(20px);
    border-radius: 24px; border: 1px solid rgba(255,255,255,0.5);
    display: flex; flex-direction: column; overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.02);
}
.dex-list { overflow-y: auto; flex: 1; padding: 15px; }
.dex-item {
    display: flex; align-items: center; padding: 12px 15px;
    margin-bottom: 10px; border-radius: 16px;
    cursor: pointer; transition: all 0.2s;
    background: rgba(255,255,255,0.4); border: 1px solid transparent;
}
.dex-item:hover { background: rgba(255,255,255,0.9); transform: translateX(5px); }
.dex-item.active {
    background: linear-gradient(135deg, #fffbf0 0%, #fff 100%);
    border-color: var(--accent); box-shadow: 0 5px 15px rgba(212, 175, 55, 0.15);
}
.dex-item-img {
    width: 50px; height: 50px; border-radius: 14px; background: #fff;
    margin-right: 15px; border: 1px solid #eee; object-fit: cover;
}
.dex-item-info { flex: 1; display: flex; justify-content: space-between; align-items: center; }
.dex-item-name { font-weight: bold; color: var(--primary); font-size: 15px; }
.dex-main-content { flex: 1; display: flex; flex-direction: column; position: relative; perspective: 1500px; }
.dex-tabs { display: flex; justify-content: flex-end; gap: 5px; margin-bottom: -15px; z-index: 2; padding-right: 30px; }
.dex-tab {
    padding: 10px 25px; background: rgba(255,255,255,0.5);
    border-radius: 15px 15px 0 0; color: #888; cursor: pointer;
    backdrop-filter: blur(5px); font-size: 14px;
}
.dex-tab.active { background: #fdfbf5; color: var(--primary); font-weight: bold; }
.dex-detail-card {
    flex: 1; background: #fdfbf5;
    border-radius: 30px; border: 4px solid rgba(255,255,255,0.8);
    box-shadow: 0 20px 60px rgba(44, 37, 32, 0.1);
    padding: 40px; overflow-y: auto; position: relative;
}
.detail-grid { display: grid; grid-template-columns: 1.1fr 1fr; gap: 40px; height: 100%; }
.visual-area { position: relative; display: flex; justify-content: center; align-items: center; grid-row: 1 / 3; }
.visual-circle {
    position: absolute; width: 380px; height: 380px; border-radius: 50%;
    border: 2px dashed rgba(0,0,0,0.05); background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
    animation: rotateCircle 60s linear infinite; z-index: 0;
}
@keyframes rotateCircle { to { transform: rotate(360deg); } }
.creature-big-img { width: 100%; max-width: 450px; height: auto; z-index: 1; transition: transform 0.5s; }
.creature-big-img:hover { transform: scale(1.1) rotate(2deg); }
.info-panel { background: rgba(255,255,255,0.6); border-radius: 24px; padding: 30px; border: 1px solid rgba(255,255,255,0.9); }
.info-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px dashed #e0e0e0; padding-bottom: 15px; margin-bottom: 20px; }
.info-header h2 { font-size: 32px; margin: 0; color: var(--primary); font-family: var(--font-title); }
.element-badge { width: 40px; height: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; background: #fff; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
.role-tag { display: inline-flex; align-items: center; gap: 8px; background: #fff; padding: 6px 16px; border-radius: 50px; font-size: 13px; color: #555; }
.work-icons { display: flex; gap: 10px; flex-wrap: wrap; }
.work-item { background: #fff; padding: 8px 12px; border-radius: 10px; display: flex; align-items: center; gap: 6px; font-size: 12px; color: #666; border: 1px solid #eee; }
.desc-footer { grid-column: 1 / 3; background: rgba(255,255,255,0.4); border-radius: 20px; padding: 25px; margin-top: 20px; border: 1px solid rgba(255,255,255,0.6); }
.desc-text-box { font-size: 15px; line-height: 1.8; color: #555; }
.mobile-back-btn { display: none; }


/* ==================== 7. å·¥åŠ & é…ç§ ==================== */
.recipe-list { max-width: 1000px; margin: 0 auto; }
.recipe-card {
    display: flex; align-items: center; padding: 25px; margin-bottom: 20px;
    background: #fff; border-radius: 16px; box-shadow: 0 5px 20px rgba(0,0,0,0.04);
    border-left: 5px solid var(--accent); opacity: 0; animation: slideRight 0.5s forwards;
}
@keyframes slideRight { to { opacity: 1; transform: translateX(0); } }
.breed-stage {
    max-width: 900px; margin: 40px auto; padding: 40px;
    background: rgba(255,255,255,0.85); border-radius: 30px; text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.08); backdrop-filter: blur(10px);
}
.calc-row { display: flex; justify-content: center; gap: 20px; margin-top: 30px; flex-wrap: wrap; align-items: center; }
.calc-select { padding: 15px; font-size: 16px; border-radius: 12px; border: 2px solid #eee; min-width: 200px; background: #fff; }
.result-egg {
    width: 100px; height: 100px; border-radius: 50%; border: 3px dashed var(--accent);
    display: flex; align-items: center; justify-content: center; font-size: 40px; color: var(--accent);
    margin: 0 auto; background: #fffbf0;
}
.result-egg-container { position: relative; }
.egg-glow {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    width: 140px; height: 140px; background: radial-gradient(circle, var(--accent-glow) 0%, transparent 70%);
    opacity: 0; transition: 0.5s; z-index: 1; pointer-events: none;
}
.result-egg.active + .egg-glow { opacity: 1; animation: pulse 2s infinite; }
@keyframes pulse { 0% { transform: translate(-50%, -50%) scale(0.8); opacity: 0.5; } 100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0; } }


/* ==================== 8. åœ°å›¾æ§ä»¶ (PCç«¯ç²¾ç®€ç‰ˆ) ==================== */
.map-wrapper { position: relative; width: 100%; height: 100%; overflow: hidden; border-radius: 20px; }

/* PCç«¯é»˜è®¤æ ·å¼ï¼šç´§å‡‘çš„å°é¢æ¿ */
.map-layer-control {
    position: absolute; bottom: 30px; left: 30px; z-index: 500;
    background: rgba(255,255,255,0.9); backdrop-filter: blur(10px);
    padding: 15px; border-radius: 12px; 
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    min-width: 180px;
    display: flex; flex-direction: column; gap: 10px;
}
/* PCç«¯éšè—æ‰‹æœºä¸“ç”¨çš„å¤´éƒ¨ */
.control-header-mobile, .mobile-map-btn { display: none; }

.section-title { font-size: 12px; font-weight: bold; color: #999; margin-bottom: 5px; text-transform: uppercase; }
.control-section { display: flex; flex-direction: column; gap: 4px; }

.layer-toggle {
    display: flex; align-items: center; gap: 8px; padding: 6px 10px; 
    border-radius: 6px; transition: 0.2s; cursor: pointer; font-size: 13px;
    color: #555;
}
.layer-toggle:hover { background: #f4f4f4; }
.layer-toggle.active { background: rgba(212, 175, 55, 0.1); color: var(--primary); font-weight: bold; }
.layer-toggle img { width: 18px; height: 18px; object-fit: contain; }

/* åœ°å›¾å›¾æ ‡åŠ¨ç”» */
.icon-base { 
    display: flex !important; justify-content: center; align-items: center; 
    transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
}
.icon-base:hover { transform: scale(1.4) translateY(-5px); z-index: 1000 !important; }
.custom-tooltip {
    background: rgba(44, 37, 32, 0.9); border: 1px solid var(--accent); color: #fff;
    border-radius: 8px; padding: 8px 12px; font-family: var(--font-body);
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}
.leaflet-tooltip-top::before { border-top-color: var(--accent); }

/* å¼¹çª—æ ·å¼ */
#marker-modal-overlay {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(44, 37, 32, 0.4); backdrop-filter: blur(8px);
    z-index: 2000; display: none; justify-content: center; align-items: center;
    opacity: 0; transition: opacity 0.4s;
}
#marker-modal-overlay.open { display: flex; opacity: 1; }

.modal-card {
    width: 450px; max-width: 90%; background: #fff;
    border-radius: 24px; box-shadow: 0 25px 80px rgba(0,0,0,0.4);
    transform: scale(0.9) translateY(30px);
    transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    overflow: hidden; display: flex; flex-direction: column;
}
#marker-modal-overlay.open .modal-card { transform: scale(1) translateY(0); }

.modal-header { padding: 25px 30px; background: linear-gradient(135deg, var(--primary), #1a1a1a); color: #fff; display: flex; justify-content: space-between; align-items: center; }
.upload-area { background: #fdfcf8; border: 2px dashed #e0e0e0; border-radius: 16px; transition: all 0.3s; height: 160px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; position: relative; overflow: hidden; margin-bottom: 20px; }
.upload-area:hover { border-color: var(--accent); background: #fffdf5; transform: scale(1.02); }
.upload-preview { position: absolute; top:0; left:0; width:100%; height:100%; object-fit:cover; display:none; }
.form-group { margin-bottom: 15px; }
.form-input, .form-select, .form-textarea { width: 100%; padding: 12px; border: 1px solid #eee; border-radius: 12px; background: #fff; transition: 0.3s; font-family: inherit; }
.form-input:focus, .form-select:focus, .form-textarea:focus { border-color: var(--accent); box-shadow: 0 0 0 4px rgba(212,175,55,0.1); }
.btn { border-radius: 12px; font-weight: bold; letter-spacing: 1px; transition: 0.3s; border: none; padding: 12px; cursor: pointer; }
.btn-primary { background: var(--accent); color: #fff; box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4); flex: 1; }
.btn-danger { background: #ff6b6b; color: white; padding: 12px 20px; }

/* ä¼˜åŒ–åœ°å›¾å†…éƒ¨æœç´¢æ¡† */
#map-inner-search {
    transition: all 0.3s;
    border: 1px solid #eee;
    background: rgba(255,255,255,0.8);
}
#map-inner-search:focus {
    background: #fff;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.1);
}


/* ==================== 10. å…¨å±€æ‰‹æœºç«¯é€‚é… (Mobile) ==================== */
@media (max-width: 768px) {
    /* åŸºç¡€éšè— */
    #cursor-dot, #cursor-outline, .paper-texture { display: none; }
    
    /* å¯¼èˆªæ åº•éƒ¨åŒ– */
    .navbar {
        top: auto; bottom: 0; width: 100%; height: 65px;
        padding: 0; border-top: 1px solid rgba(0,0,0,0.05);
        background: rgba(255,255,255,0.95); justify-content: center; box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
    }
    .logo { display: none; }
    .nav-items { width: 100%; justify-content: space-around; gap: 0; }
    .nav-btn { flex: 1; padding: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 10px; border-radius: 0; background: none; color: #999; }
    .nav-btn i { font-size: 20px; margin-bottom: 4px; }
    .nav-btn.active { background: transparent; color: var(--accent); box-shadow: none; }

    /* å†…å®¹åŒº */
    .main-container { padding-top: 20px; padding-bottom: 80px; }
    .view-section { padding: 15px; }

    /* é¦–é¡µ & æœç´¢ */
    .home-dashboard { grid-template-columns: 1fr; }
    .hero-banner { padding: 30px; }
    .search-container { flex-direction: column; gap: 10px; top: 0; padding-top: 0; }

    /* ---------------- æ‰‹æœºç«¯å›¾é‰´ä¼˜åŒ– ---------------- */
    .dex-layout-container { display: block; width: 100%; height: calc(100vh - 180px); overflow: hidden; }
    .dex-sidebar {
        width: 100%; height: 100%; position: absolute; top: 0; left: 0; z-index: 10;
        background: transparent; border: none; box-shadow: none;
        transition: transform 0.3s cubic-bezier(0.4, 0.0, 0.2, 1), opacity 0.3s;
    }
    .dex-main-content {
        width: 100%; height: 100%; position: absolute; top: 0; left: 100%; z-index: 20;
        background: var(--bg-paper); transition: left 0.35s cubic-bezier(0.4, 0.0, 0.2, 1);
        display: flex; flex-direction: column; padding-top: 0;
    }
    .dex-layout-container.show-detail .dex-sidebar { transform: translateX(-30%); opacity: 0; pointer-events: none; }
    .dex-layout-container.show-detail .dex-main-content { left: 0; }
    
    .dex-detail-card { border: none; box-shadow: none; padding: 20px 5px; background: transparent; border-radius: 0; overflow-y: auto; height: 100%; }
    .detail-grid { display: flex; flex-direction: column; gap: 20px; }
    .visual-area { grid-row: auto; margin-bottom: 10px; }
    .visual-circle { width: 260px; height: 260px; }
    .creature-big-img { max-width: 280px; }
    .mobile-back-btn {
        display: flex; align-items: center; gap: 8px; padding: 12px 0; margin-bottom: 5px;
        font-weight: bold; color: var(--accent); cursor: pointer; font-size: 15px;
        border-bottom: 1px solid rgba(0,0,0,0.05); background: var(--bg-paper);
        position: sticky; top: 0; z-index: 50;
    }
    .dex-tabs { display: none; }

    /* ---- æ‰‹æœºç«¯åœ°å›¾ä¾§æ»‘æŠ½å±‰ ----- */
    
    /* 1. æ˜¾ç¤ºæ‚¬æµ®æŒ‰é’® */
    .mobile-map-btn {
        display: flex; justify-content: center; align-items: center;
        position: absolute; top: 110px; right: 18px; z-index: 900;
        width: 40px; height: 40px;
        background: #fff; border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        border: 1px solid #eee;
    }
    .mobile-map-btn img { width: 22px; height: 22px; }

    /* 2. é‡å†™é¢æ¿ä¸ºæŠ½å±‰æ ·å¼ (è¦†ç›–PCç«¯æ ·å¼) */
    .map-layer-control {
        position: absolute; top: 0; right: 0; bottom: 0; left: auto;
        width: 260px; height: 100vh;
        background: rgba(255, 255, 255, 0.98);
        border-radius: 0; 
        box-shadow: -10px 0 30px rgba(0,0,0,0.1);
        transform: translateX(100%); /* é»˜è®¤è—åœ¨å³è¾¹ */
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        display: flex !important; 
        flex-direction: column;
        padding: 20px;
        z-index: 1000;
        min-width: auto;
    }
    
    /* æ¿€æ´»çŠ¶æ€ï¼šæ»‘å‡ºæ¥ */
    .map-layer-control.open { transform: translateX(0); }

    /* 3. æ‰‹æœºç«¯ç‰¹æœ‰çš„å¤´éƒ¨ */
    .control-header-mobile {
        display: flex; justify-content: space-between; align-items: center;
        margin-bottom: 25px; padding-bottom: 15px;
        border-bottom: 1px solid #eee;
        font-size: 18px; font-weight: bold; color: var(--primary);
    }
    
    /* 4. è°ƒæ•´å†…éƒ¨æŒ‰é’®å°ºå¯¸ï¼Œé€‚åˆæ‰‹æŒ‡ç‚¹å‡» */
    .layer-toggle {
        padding: 12px; background: #f9f9f9; 
        margin-bottom: 8px; font-size: 14px; border-radius: 10px;
    }
    .section-title { font-size: 14px; margin-top: 10px; margin-bottom: 10px; }
    
    /* å¼ºåˆ¶åœ°å›¾å…¨å± */
    #map.view-section { padding: 0 !important; overflow: hidden !important; position: relative; }
    #map-container { 
        width: 100% !important; 
        height: 100vh !important; /* ä½¿ç”¨100vhå¡«æ»¡ */
        position: absolute !important; 
        top: 0; 
        left: 0; 
        z-index: 1; 
        margin: 0 !important;
        border-radius: 0 !important; 
    }
    
    /* æ¨ªå±åˆ‡æ¢æŒ‰é’® */
    .mobile-rotate-btn {
        display: flex; justify-content: center; align-items: center;
        position: absolute; top: 170px; right: 18px; z-index: 900;
        width: 40px; height: 40px;
        background: #fff; border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        border: 1px solid #eee;
        color: var(--primary); font-size: 18px;
        transition: 0.3s;
    }
    .mobile-rotate-btn:active { transform: scale(0.9); }
}

/* ==================== æ–°é—»è§†å›¾é€‚é…æ ·å¼ (æ–°å¢) ==================== */
/* 1. è§†å›¾å®¹å™¨è°ƒæ•´ï¼šè®©å®ƒèƒ½å®¹çº³åŸæ¥çš„å¤§å¡ç‰‡ */
#news-view {
    padding: 40px 20px !important; /* ä¿æŒä¸€å®šçš„å†…è¾¹è· */
    background: transparent !important; /* ç¡®ä¿èƒŒæ™¯é€æ˜ï¼Œé€å‡ºä¸»é¡µçš„ç²’å­ç‰¹æ•ˆ */
}

/* 2. éšè—æ–°é—»é¡µè‡ªå¸¦çš„å¯¼èˆªæ  (é˜²æ­¢åŒé‡å¯¼èˆª) */
#news-content-area .navbar,
#news-content-area .logo,
#news-content-area #intro-gate, 
#news-content-area #cursor-dot,
#news-content-area #cursor-outline,
#news-content-area script {
    display: none !important;
}

/* 3. æ–‡ç« å®¹å™¨ï¼šè¿˜åŸè¾¹è·å’Œå®½åº¦ */
.article-wrapper {
    max-width: 800px;
    margin: 0 auto !important; /* åœ¨è§†å›¾é‡Œå±…ä¸­ */
    position: relative;
    z-index: 10;
}

/* 4. æ–‡ç« å¡ç‰‡ï¼šæ ¸å¿ƒè§†è§‰è¿˜åŸ (é˜´å½±ã€ç£¨ç ‚ã€åœ†è§’) */
.article-card {
    /* è¿˜åŸé«˜ä¸é€æ˜åº¦å’Œç£¨ç ‚æ„Ÿ */
    background: rgba(255, 255, 255, 0.95) !important; 
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 50px !important; /* è¿˜åŸå¤§å†…è¾¹è· */
    
    /* è¿˜åŸåŸæœ¬çš„æŠ•å½±ï¼Œè®©å¡ç‰‡æµ®èµ·æ¥ */
    box-shadow: 0 20px 60px rgba(44, 37, 32, 0.1) !important;
    border: 1px solid rgba(255, 255, 255, 0.8);
    
    position: relative;
    overflow: hidden;
    margin-bottom: 50px; /* åº•éƒ¨ç•™ç™½ */
}

/* 5. â˜…â˜…â˜… å…³é”®ä¿®å¤ï¼šè¿˜åŸå¡ç‰‡é¡¶éƒ¨çš„å½©è‰²æ¸å˜çº¿æ¡ â˜…â˜…â˜… */
.article-card::before {
    content: ''; 
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 6px;
    /* ä½¿ç”¨åŸæœ¬çš„é‡‘è‰²æ¸å˜ */
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    display: block !important;
}

/* 6. æ–‡ç« æ ‡é¢˜ä¸æ’ç‰ˆ */
.article-header { 
    text-align: center; 
    margin-bottom: 40px; 
    border-bottom: 2px dashed #eee; 
    padding-bottom: 30px; 
}

.article-title { 
    font-family: var(--font-title); 
    font-size: 36px; 
    color: var(--primary); 
    margin-bottom: 15px; 
    line-height: 1.4;
}

.article-meta { 
    color: #888; 
    font-size: 13px; 
    display: flex; 
    justify-content: center; 
    gap: 20px; 
}

/* 7. æ­£æ–‡å†…å®¹æ ·å¼ */
.article-content { 
    font-size: 16px; 
    line-height: 1.8; 
    color: #444; 
}

.article-content h3 { 
    color: var(--primary); 
    border-left: 4px solid var(--accent); 
    padding-left: 12px; 
    margin-top: 40px; 
    font-size: 20px; 
    font-weight: bold;
}

.article-content img { 
    max-width: 100%; 
    border-radius: 12px; 
    margin: 20px 0; 
    box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
    border: 1px solid #eee; 
}

.article-content ul { 
    background: #fdfbf5; 
    padding: 20px 20px 20px 40px; 
    border-radius: 12px; 
    border: 1px solid #f0eee5; 
}

.article-content li { 
    margin-bottom: 10px; 
}

.article-content blockquote {
    background: #fff8e1;
    border-left: 4px solid #d4af37;
    margin: 20px 0;
    padding: 15px;
    color: #8d6e63;
    border-radius: 4px;
    font-size: 14px;
}

/* 8. æ‰‹æœºç«¯é€‚é…è°ƒæ•´ */
@media (max-width: 768px) {
    .article-card { padding: 25px !important; }
    .article-title { font-size: 24px; }
}

/* === å·¥åŠé¡¶éƒ¨åˆ‡æ¢æ¡ === */
.craft-tabs-top { display: flex; gap: 10px; margin-bottom: 15px; }
.c-tab {
    flex: 1; text-align: center; padding: 12px; background: rgba(255,255,255,0.6);
    border-radius: 12px; cursor: pointer; color: #666; font-weight: bold;
    border: 1px solid transparent; transition: 0.3s; position: relative;
}
.c-tab.active { background: #fff; color: var(--primary); border-color: var(--accent); box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
.c-tab:hover { background: #fff; }

/* è´­ç‰©è½¦çº¢ç‚¹ */
.cart-badge {
    position: absolute; top: -5px; right: 20px;
    background: #ff4757; color: #fff; font-size: 10px; 
    padding: 2px 6px; border-radius: 10px;
}

/* è§†å›¾åˆ‡æ¢ */
.craft-view-panel { display: none; height: 100%; }
.craft-view-panel.active { display: block; animation: fadeIn 0.3s; }

/* åŠ å…¥æ¸…å•æŒ‰é’® */
.calc-control-group { display: flex; gap: 15px; align-items: stretch; margin-bottom: 25px; background:rgba(255,255,255,0.9); padding:15px; border-radius:12px; }
.calc-control { margin-bottom: 0; background: none; padding: 0; border-radius: 0; }
.btn-add-cart {
    flex: 1; border: none; background: var(--primary); color: var(--accent);
    border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.2s;
}
.btn-add-cart:active { transform: scale(0.98); }

/* === è´­ç‰©è½¦æ ·å¼ === */
.cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.btn-clear { background: transparent; border: 1px solid #ddd; padding: 5px 10px; border-radius: 6px; cursor: pointer; color: #888; font-size: 12px; }
.btn-clear:hover { border-color: #ff6b6b; color: #ff6b6b; }

.cart-items-box { max-height: 250px; overflow-y: auto; margin-bottom: 20px; border: 1px solid #f0f0f0; border-radius: 10px; background: #f9f9f9; padding: 10px; }
.cart-row {
    display: flex; justify-content: space-between; align-items: center;
    background: #fff; padding: 10px 15px; margin-bottom: 8px; border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.02);
}
.cart-row-name { font-weight: bold; color: var(--primary); }
.cart-row-ctrl { display: flex; align-items: center; gap: 10px; }
.cart-del-btn { color: #ccc; cursor: pointer; padding: 5px; }
.cart-del-btn:hover { color: #ff4757; }

/* æ‰‹æœºç«¯é€‚é…ä¿®æ­£ */
@media (max-width: 768px) {
    .calc-control-group { flex-direction: column; }
    .btn-add-cart { padding: 12px; }
}

/* æŒ‰é’®æ ·å¼å¾®è°ƒ */
.dex-nav-actions .btn {
    padding: 15px;
    font-size: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    background: #fff;
    color: var(--primary);
    border: 1px solid #eee;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}
.dex-nav-actions .btn:hover {
    background: var(--accent);
    color: #fff;
    border-color: var(--accent);
}
/* ==================== å¤©å·¥é€ ç‰©å¸ƒå±€æ ·å¼ ==================== */

/* 1. æ•´ä½“å·¦å³å¸ƒå±€å®¹å™¨ */
.craft-layout { 
    display: flex; 
    gap: 30px; 
    height: calc(100vh - 150px); /* å‡å»å¯¼èˆªæ é«˜åº¦ */
    max-width: 1400px; 
    margin: 0 auto; 
}

/* 2. å·¦ä¾§ï¼šæœç´¢åˆ—è¡¨æ  */
.craft-sidebar { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    max-width: 350px; 
}

.craft-list-container { 
    overflow-y: auto; 
    padding-right: 5px; 
    flex: 1; 
}

/* åˆ—è¡¨é¡¹æ ·å¼ */
.craft-item {
    background: rgba(255,255,255,0.6); 
    margin-bottom: 10px; 
    padding: 15px;
    border-radius: 12px; 
    cursor: pointer; 
    transition: 0.2s; 
    border: 1px solid transparent;
    display: flex; 
    justify-content: space-between; 
    align-items: center;
}
.craft-item:hover, .craft-item.active { 
    background: #fff; 
    border-color: var(--accent); 
    transform: translateX(5px); 
    box-shadow: 0 5px 15px rgba(0,0,0,0.05); 
}

/* 3. å³ä¾§ï¼šä¸»å†…å®¹åŒº */
.craft-main { 
    flex: 2; 
    position: relative; 
}

/* 4. è“å›¾å¡ç‰‡å®¹å™¨ (æ˜¾ç¤ºé…æ–¹è¯¦æƒ…çš„åœ°æ–¹) */
.blueprint-card {
    background: #fff; 
    border-radius: 20px; 
    height: 100%;
    border: 1px solid rgba(0,0,0,0.05); 
    box-shadow: 0 10px 40px rgba(0,0,0,0.05);
    padding: 30px; 
    overflow-y: auto;
    /* æ ¼å­çº¸èƒŒæ™¯çº¹ç† */
    background-image: radial-gradient(#d4af37 1px, transparent 1px); 
    background-size: 20px 20px;
}

.blueprint-header { 
    border-bottom: 2px solid #eee; 
    padding-bottom: 20px; 
    margin-bottom: 20px; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}
.blueprint-header h2 { 
    margin: 0; 
    color: var(--primary); 
    font-size: 24px; 
}

/* æ ‡ç­¾æ ·å¼ */
.bp-tag { 
    font-size: 12px; 
    padding: 4px 10px; 
    background: #eee; 
    border-radius: 6px; 
    color: #666; 
    margin-left: 10px; 
}
.bp-tag.warning { 
    background: #fff3cd; 
    color: #856404; 
}

/* é…æ–¹è¯¦æƒ…é‡Œçš„ Tabs (å•ä»¶ææ–™/åˆæˆæ ‘) */
.bp-tabs { 
    display: flex; 
    gap: 20px; 
    margin-bottom: 20px; 
    border-bottom: 1px solid #eee; 
}
.bp-tab { 
    padding-bottom: 10px; 
    cursor: pointer; 
    color: #999; 
    font-weight: bold; 
}
.bp-tab.active { 
    color: var(--accent); 
    border-bottom: 3px solid var(--accent); 
}
.bp-view { display: none; }
.bp-view.active { display: block; animation: fadeIn 0.3s; }

/* ææ–™ç½‘æ ¼ */
.mat-grid { 
    display: grid; 
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); 
    gap: 15px; 
}
.mat-card { 
    background: #fff; 
    padding: 15px; 
    border-radius: 10px; 
    text-align: center; 
    border: 1px solid #eee; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.02); 
}
.mat-icon { 
    width: 40px; 
    height: 40px; 
    margin: 0 auto 10px; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    background: #f4f4f4; 
    border-radius: 50%; 
    color: #666; 
}
.mat-qty { 
    font-size: 20px; 
    font-weight: bold; 
    color: var(--primary); 
}
.mat-name { 
    font-size: 12px; 
    color: #888; 
    margin-top: 5px; 
}

/* åˆæˆæ ‘æ ·å¼ */
.tree-node { margin-left: 20px; position: relative; padding: 5px 0; }
.tree-node::before { content: ''; position: absolute; left: -15px; top: 15px; width: 12px; height: 1px; background: #ccc; }
.tree-node::after { content: ''; position: absolute; left: -15px; top: 0; bottom: 0; width: 1px; background: #ccc; }
.tree-node:last-child::after { bottom: auto; height: 15px; }
.node-content { display: inline-flex; align-items: center; padding: 6px 12px; background: #fff; border: 1px solid #ddd; border-radius: 6px; font-size: 13px; }
.node-content.basic { border-left: 3px solid #81c784; }
.node-content.inter { border-left: 3px solid #ffb74d; }

/* å¤©å·¥ç‰©å“å›¾æ ‡æ ·å¼ */
/* 1. åˆ—è¡¨é¡¹å›¾æ ‡ */
.craft-item {
    display: flex; /* å¯ç”¨Flexå¸ƒå±€ï¼Œè®©å›¾æ ‡å’Œæ–‡å­—æ¨ªå‘æ’åˆ— */
    align-items: center; /* å‚ç›´å±…ä¸­ */
    padding: 10px 12px;
    margin-bottom: 6px;
    background: rgba(255,255,255,0.5);
    font-size: 13px;
    border-radius: 8px; /* åœ†è§’ç¨å¾®åŠ å¤§ */
    transition: 0.2s;
}

.item-icon-sm {
    width: 32px; 
    height: 32px;
    border-radius: 6px;
    background: #fff;
    border: 1px solid rgba(0,0,0,0.05);
    object-fit: contain; /* ä¿æŒå›¾ç‰‡æ¯”ä¾‹ */
    margin-right: 12px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
    flex-shrink: 0; /* é˜²æ­¢å›¾æ ‡è¢«å‹ç¼© */
}

/* 2. è¯¦æƒ…é¡µå¤´éƒ¨å›¾æ ‡ */
.blueprint-header {
    display: flex;
    align-items: center; /* å¤´éƒ¨å†…å®¹å‚ç›´å±…ä¸­ */
    gap: 15px; /* å›¾ç‰‡å’Œæ ‡é¢˜é—´è· */
}

.item-icon-lg {
    width: 64px;
    height: 64px;
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
    border: 1px solid rgba(0,0,0,0.05);
    padding: 5px; /* å†…è¾¹è·ï¼Œé˜²æ­¢è´´è¾¹ */
    object-fit: contain;
}

/* 3. ææ–™æ ¼å­å›¾æ ‡ (æ›¿æ¢åŸæ¥çš„ FontAwesome å›¾æ ‡) */
.mat-icon {
    width: 40px;
    height: 40px;
    margin: 0 auto 5px; /* è°ƒæ•´ä¸‹è¾¹è· */
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent; /* å»æ‰ç°è‰²èƒŒæ™¯ï¼Œç›´æ¥æ˜¾ç¤ºå›¾ç‰‡ */
    border-radius: 0;
}

.mat-icon-img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
}

/* ================= ğŸš€ æ‰‹æœºç«¯é‡æ„ï¼šå•å±æµå¼äº¤äº’ ================= */
.mobile-craft-back { display: none; } /* PCç«¯éšè—è¿”å›æŒ‰é’® */

@media (max-width: 768px) {
    /* 1. å¸ƒå±€å®¹å™¨ï¼šç›¸å¯¹å®šä½ï¼Œä½œä¸ºæ»‘åŠ¨èˆå° */
    .craft-layout {
        display: block; /* å–æ¶ˆflexï¼Œæ”¹ä¸ºé‡å å±‚ */
        position: relative;
        height: calc(100vh - 130px); /* ç•™å‡ºé¡¶éƒ¨Tabå’Œå¯¼èˆªæ ç©ºé—´ */
        overflow: hidden; /* éšè—æº¢å‡ºå†…å®¹ */
    }

    /* 2. å·¦ä¾§åˆ—è¡¨ï¼šé»˜è®¤å æ»¡å…¨å± */
    .craft-sidebar {
        width: 100%;
        max-width: none;
        height: 100%;
        position: absolute;
        top: 0; left: 0;
        background: var(--bg-paper);
        z-index: 10;
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        overflow-y: auto;
        padding-bottom: 50px;
    }

    /* 3. å³ä¾§è¯¦æƒ…/è´­ç‰©è½¦ï¼šé»˜è®¤è—åœ¨å±å¹•å³ä¾§ */
    .craft-main {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0; left: 100%; /* ç§»å‡ºå±å¹• */
        z-index: 20;
        background: var(--bg-paper);
        transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding: 0;
    }

    /* 4. æ¿€æ´»çŠ¶æ€ï¼šè¯¦æƒ…é¡µæ»‘å…¥ï¼Œåˆ—è¡¨é¡µå·¦ç§» */
    .craft-layout.show-detail .craft-sidebar {
        transform: translateX(-30%); /* åˆ—è¡¨ç¨å¾®å·¦ç§»ä¸€ç‚¹ï¼Œåˆ¶é€ è§†å·® */
        opacity: 0.5;
    }
    .craft-layout.show-detail .craft-main {
        left: 0; /* è¯¦æƒ…é¡µå½’ä½ï¼Œå æ»¡å…¨å± */
    }

    /* 5. æ ·å¼ä¼˜åŒ–ï¼šè¿”å›æŒ‰é’® */
    .mobile-craft-back {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 15px 0;
        margin-bottom: 10px;
        border-bottom: 1px solid #eee;
        color: var(--primary);
        font-weight: bold;
        cursor: pointer;
    }

    /* 6. å¡ç‰‡å»è¾¹æ¡†åŒ–ï¼Œé€‚åº”å…¨å± */
    .blueprint-card {
        border: none;
        box-shadow: none;
        background: transparent;
        padding: 0 5px 80px 5px; /* åº•éƒ¨ç•™ç™½ç»™å¯¼èˆª */
        border-radius: 0;
    }

    /* 7. è´­ç‰©è½¦è§†å›¾ç‰¹æ®Šå¤„ç† */
    /* å½“åˆ‡æ¢åˆ°è´­ç‰©è½¦Tabæ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å®ƒä¹Ÿæ˜¯å…¨å±æ˜¾ç¤ºçš„ */
    .craft-layout.mode-cart .craft-sidebar {
        display: none; /* è´­ç‰©è½¦æ¨¡å¼ä¸‹éšè—åˆ—è¡¨ */
    }
    .craft-layout.mode-cart .craft-main {
        left: 0; /* è´­ç‰©è½¦ç›´æ¥æ˜¾ç¤º */
    }
}
/* ================= ä¼˜åŒ–ï¼šæŠ˜å å¼ä¾§è¾¹æ  ================= */
.craft-cat-header {
    font-weight: bold;
    color: var(--primary);
    padding: 12px 15px;
    background: rgba(255, 255, 255, 0.4);
    border-radius: 8px;
    margin-bottom: 5px;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid transparent;
    transition: 0.2s;
}
.craft-cat-header:hover {
    background: rgba(255, 255, 255, 0.8);
    border-color: var(--accent);
}
.craft-cat-header i {
    transition: transform 0.3s;
    font-size: 12px;
    color: #999;
}
/* æ¿€æ´»çŠ¶æ€ä¸‹æ—‹è½¬ç®­å¤´ */
.craft-cat-header.active i {
    transform: rotate(90deg);
    color: var(--accent);
}

.craft-cat-list {
    display: none; /* é»˜è®¤æŠ˜å  */
    padding-left: 5px;
    margin-bottom: 10px;
    animation: fadeIn 0.3s;
}
.craft-cat-list.active {
    display: block; /* æ¿€æ´»æ—¶æ˜¾ç¤º */
}

/* ================= ä¼˜åŒ–ï¼šå¯æŠ˜å åˆæˆæ ‘ ================= */
.tree-node-self {
    display: inline-flex;
    align-items: center;
    padding: 6px 12px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 6px;
    font-size: 13px;
    cursor: pointer; /* å˜ä¸ºæ‰‹å‹ */
    transition: 0.2s;
    position: relative;
    z-index: 2;
}

.tree-node-self:hover {
    border-color: var(--accent);
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

/* åŸºç¡€ææ–™æ ·å¼å¾®è°ƒ */
.node-content.basic { border-left: 3px solid #81c784; }
.node-content.inter { border-left: 3px solid #ffb74d; }

/* æŠ˜å å›¾æ ‡ */
.tree-toggle-icon {
    margin-right: 6px;
    font-size: 10px;
    color: #999;
    transition: transform 0.2s;
    width: 12px;
    text-align: center;
}
/* åŸºç¡€ææ–™ä¸æ˜¾ç¤ºå›¾æ ‡ï¼Œå ä½éšè— */
.tree-toggle-icon.hidden {
    visibility: hidden;
}

/* å­èŠ‚ç‚¹å®¹å™¨ */
.tree-children {
    padding-left: 0; 
    transition: all 0.3s;
    overflow: hidden;
}
/* æŠ˜å çŠ¶æ€ */
.tree-children.collapsed {
    display: none;
}
/* çˆ¶èŠ‚ç‚¹æŠ˜å æ—¶çš„å›¾æ ‡çŠ¶æ€ */
.tree-node-self.collapsed .tree-toggle-icon {
    transform: rotate(-90deg);
}

/* ================= ä¼˜åŒ–ï¼šä¾§è¾¹æ å±‚çº§è§†è§‰ (Indentation) ================= */
.craft-cat-list {
    display: none;
    /* å¢åŠ å·¦ä¾§ç¼©è¿›ï¼Œè®©å­é¡¹æ˜æ˜¾å‘å³åç§» */
    padding-left: 12px; 
    margin-left: 12px;
    /* æ·»åŠ å·¦ä¾§ç«–çº¿ï¼Œå¼ºåŒ–å½’å±æ„Ÿ */
    border-left: 2px solid rgba(0,0,0,0.05); 
    margin-bottom: 10px;
    animation: fadeIn 0.3s;
}

/* ä¾§è¾¹æ å­é¡¹æ ·å¼å¾®è°ƒï¼šæ›´ç´§å‡‘ */
.craft-item {
    padding: 10px 12px;
    margin-bottom: 6px;
    background: rgba(255,255,255,0.5);
    font-size: 13px; /* ç¨å¾®è°ƒå°å­—ä½“ */
}

/* ================= ä¼˜åŒ–ï¼šåˆæˆæ ‘å±‚çº§è§†è§‰ (Tree View) ================= */
/* å­èŠ‚ç‚¹å®¹å™¨ï¼šæ ¸å¿ƒç¼©è¿›é€»è¾‘ */
.tree-children {
    /* å…³é”®ï¼šå¢åŠ å·¦ä¾§ç¼©è¿› */
    padding-left: 20px; 
    /* å…³é”®ï¼šå¢åŠ è™šçº¿å¼•å¯¼ï¼Œç›´è§‚æ˜¾ç¤ºå±‚çº§å…³ç³» */
    border-left: 1px dashed #ccc; 
    margin-left: 10px; /* è®©å¼•å¯¼çº¿å’Œçˆ¶èŠ‚ç‚¹é”™å¼€ä¸€ç‚¹ */
    
    transition: all 0.3s;
    overflow: hidden;
}

/* ç§»é™¤æ—§çš„ tree-node marginï¼Œé¿å…åŒé‡ç¼©è¿›å¯¼è‡´è¿‡å®½ */
.tree-node {
    margin-left: 0; 
    padding: 5px 0;
}

/* ç§»é™¤æ—§çš„ä¼ªå…ƒç´ è¿çº¿ (å› ä¸ºæˆ‘ä»¬ç°åœ¨ç”¨ border-left ç»Ÿä¸€æ§åˆ¶äº†) */
.tree-node::before, .tree-node::after {
    display: none;
}

/* ================= ç¤¾åŒºå±•ç¤º (Showcase) ================= */

/* å¸ƒå±€å®¹å™¨ */
.showcase-layout {
    max-width: 1000px;
    margin: 0 auto;
}

.showcase-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    background: rgba(255,255,255,0.6);
    padding: 15px 20px;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.8);
    backdrop-filter: blur(5px);
}

/* ç½‘æ ¼å¸ƒå±€ï¼šè‡ªé€‚åº”åˆ—å®½ */
.showcase-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
    padding-bottom: 40px;
}

/* å¡ç‰‡ä¸»ä½“ */
.showcase-card {
    background: #fff;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    border: 1px solid #eee;
    transition: transform 0.3s, box-shadow 0.3s;
    display: flex;
    flex-direction: column;
}

.showcase-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(212, 175, 55, 0.15);
    border-color: var(--accent);
}

/* å›¾ç‰‡åŒºåŸŸ */
.card-img-box {
    width: 100%;
    height: 200px; /* å›ºå®šé«˜åº¦ï¼Œä¿æŒæ•´é½ */
    background: #f9f9f9;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.card-img-box img {
    width: 100%;
    height: 100%;
    object-fit: cover; /* å¡«æ»¡å®¹å™¨ */
    transition: transform 0.5s;
}

.showcase-card:hover .card-img-box img {
    transform: scale(1.05);
}

/* ç”¨æˆ·åæ ‡ç­¾ï¼ˆæ‚¬æµ®åœ¨å›¾ç‰‡å·¦ä¸‹è§’ï¼‰ */
.card-user-tag {
    position: absolute;
    bottom: 10px;
    left: 10px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    padding: 4px 10px;
    border-radius: 20px;
    font-size: 11px;
    backdrop-filter: blur(4px);
}

/* å†…å®¹åŒºåŸŸ */
.card-body {
    padding: 15px;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.card-title {
    font-weight: bold;
    color: var(--primary);
    margin-bottom: 8px;
    font-size: 16px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card-desc {
    font-size: 13px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 15px;
    flex: 1; /* æ’‘å¼€ä¸­é—´ï¼Œè®©æŒ‰é’®æ²‰åº• */
    display: -webkit-box;
    -webkit-line-clamp: 2; /* é™åˆ¶æ˜¾ç¤º2è¡Œ */
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* åº•éƒ¨è”ç³»æŒ‰é’® */
.card-footer {
    border-top: 1px dashed #eee;
    padding-top: 10px;
    text-align: right;
}

.contact-box {
    display: inline-block;
    padding: 6px 12px;
    background: #fdfbf5;
    color: var(--accent);
    border: 1px solid var(--accent);
    border-radius: 6px;
    font-size: 12px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.2s;
}

.contact-box:hover {
    background: var(--accent);
    color: #fff;
}

/* æ‰‹æœºç«¯é€‚é… */
@media (max-width: 768px) {
    .showcase-grid {
        grid-template-columns: 1fr; /* æ‰‹æœºä¸Šä¸€è¡Œä¸€ä¸ª */
    }
    .showcase-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
    }
    .showcase-header button {
        width: 100%;
    }
}
/* ================= ä¸»é¡µæ ·å¼è¡¥å…… ================= */
/* 2. æ–°å¢ï¼šç¤¾åŒºå±•ç¤ºå…¥å£å¡ç‰‡ */
.feature-entry-card {
    background: linear-gradient(135deg, #fff 0%, #fffbf0 100%);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    transition: transform 0.3s, box-shadow 0.3s;
    border: 1px solid rgba(212, 175, 55, 0.2);
    display: flex;
    flex-direction: column;
    justify-content: center;
    min-height: 140px;
}

.feature-entry-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 30px rgba(212, 175, 55, 0.15);
    border-color: var(--accent);
}
/* æ‰‹æœºç«¯é€‚é…å¾®è°ƒ */
@media (max-width: 768px) {
    .feature-entry-card {
        min-height: 120px;
    }
}